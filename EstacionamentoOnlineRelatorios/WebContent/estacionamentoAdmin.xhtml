<!DOCTYPE html>
<ui:composition template="/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
	<ui:define name="corpo">
		<h:form>
		
		<div align="right">
			<h:commandLink>
				<p:graphicImage name="img/logo_excel.png" width="40" title="Exportar em excel" />
				<p:dataExporter type="xls" target="tblEstacAdmim" fileName="relatoriosAdmim" />
			</h:commandLink>

			<h:commandLink>
				<p:graphicImage name="img/logo_pdf.png" width="40" title="Exportar em PDF" />
				<p:dataExporter type="pdf" target="tblEstacAdmim" fileName="relatoriosAdmim" preProcessor="#{dataExporterView.preProcessPDF}" />
			</h:commandLink>

			<h:commandLink>
				<p:graphicImage name="img/logo_csv.png" width="40" title="Exportar em CSV" />
				<p:dataExporter type="csv" target="tblEstacAdmim" fileName="relatoriosAdmim" />
			</h:commandLink>
		</div>

		<p:dataTable id="tblEstacAdmim" var="estacionamento" 
			value="#{dataExporterView.estacionamentosAdmin}" paginatorTemplate=" {FirstPageLink} {PageLinks} {LastPageLink}" 
			paginator="true" rows="10" paginatorPosition="bottom" emptyMessage="Nenhum estacionamento cadastrado." style="margin-bottom:20px; margin-top:1%;">

			<p:column width="20%">
				<f:facet name="header">
					<h:outputText value="Nome Fantasia" />
				</f:facet>
				<h:outputText value="#{estacionamento.nomeFantasia}" />
			</p:column>

			<p:column width="20%" style="text-align:center;">
				<f:facet name="header">
					<h:outputText value="CNPJ" />
				</f:facet>
				<h:outputText value="#{estacionamento.cnpj}" />
			</p:column>

			<p:column width="40%">
				<f:facet name="header">
					<h:outputText value="Endereço" />
				</f:facet>
				<h:outputText value="#{estacionamento.enderecoBean}" />
			</p:column>
			
			<p:column width="10%" style="text-align:center;">
				<f:facet name="header">
					<h:outputText value="Situação" />
				</f:facet>
				<h:outputText value="#{estacionamento.statusBean.nome}"/>
			</p:column>

			<p:column width="10%" style="text-align:center;">
				<f:facet name="header">
					<h:outputText value="Avaliação" />
				</f:facet>
				<h:outputText value="#{estacionamento.avaliacao}"/>
			</p:column>

		</p:dataTable>
	</h:form>
	</ui:define>
</ui:composition>
